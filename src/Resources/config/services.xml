<?xml version="1.0"?>
<container xmlns="http://symfony.com/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

  <services>
    <defaults public="false" autoconfigure="true" autowire="true"/>

    <prototype namespace="Gdbots\Iam\"
        resource="%kernel.project_dir%/vendor/gdbots/iam/src/**/*"
        autoconfigure="true"
        autowire="true"/>

    <service id="Gdbots\Iam\RoleProjector">
      <tag name="pbjx.event_listener" event="%app_vendor%:iam:event:*" method="onEvent"/>
    </service>

    <service id="Gdbots\Iam\UserProjector">
      <tag name="pbjx.event_listener" event="%app_vendor%:iam:event:*" method="onEvent"/>
    </service>
  </services>

</container>
